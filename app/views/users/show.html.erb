<div class="mx-auto max-w-4xl px-4 py-8">
  <div class="grid grid-cols-1 md:grid-cols-4 gap-8">

    <!-- メインコンテンツ -->
    <div class="<%= current_user == @user ? 'md:col-span-3' : 'md:col-span-4 text-center' %> space-y-6">
      <h1 class="text-2xl font-bold"><%= @user.name %>さんのプロフィール</h1>

      <h2 class="text-xl font-semibold mt-6 mb-4 text-left">投稿一覧</h2>

      <% if @user.boards.any? %>
        <div class="grid gap-6">
          <% @user.boards.order(created_at: :desc).each do |board| %>
            <%= link_to board_path(board), class: "block rounded-md" do %>
              <%= render partial: "boards/board_card", locals: { board: board } %>
            <% end %>
          <% end %>
        </div>
      <% else %>
        <p>まだ投稿がありません。</p>
      <% end %>
    </div>

    <!-- サイドバー（ログインユーザー本人のみ） -->
    <% if current_user == @user %>
      <aside class="flex flex-col space-y-2 items-start">
        <%= link_to "目標を編集", edit_goal_path,
            class: "px-4 py-2 bg-lime-500 text-white rounded transition hover:bg-green-500" %>
        <%= link_to "ログアウト", destroy_user_session_path,
            data: { turbo_method: :delete },
            class: "px-4 py-2 bg-stone-400 text-white rounded transition hover:bg-stone-500" %>
        <%= link_to "アカウントを削除", user_registration_path,
            data: {
              turbo_confirm: "本当に削除しますか？全てのデータが削除されます。この操作は取り消せません。",
              turbo_method: :delete
            },
            class: "px-4 py-2 bg-red-500 text-white rounded transition hover:bg-red-600" %>
      </aside>

    <% end %>

  </div>
</div>
